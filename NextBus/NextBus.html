<!--html>(head>meta[charset=${charset}]+title{${1:Document}})+body-->
<html>
  
<head>
    <meta charset="UTF-8">
    <title>NextBus</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Pacifico|Varela+Round" rel="stylesheet">
   

</head>
<body>
  
  <td class="container">
    <tr>
      <h1 style="font-size:450%; text-align:center;font-family: 'Pacifico', cursive; ">NextBus</h1>
    </tr>
    <tr><h1 style="font-size:300%; text-align:center;font-family: 'Varela Round', sans-serif;"><a id ="y" href='#' style="text-decoration:none">Jardim Caçula</a></h1></tr>
    <tr><h1 style="font-size:150%; text-align:center;font-family: 'Varela Round', sans-serif;" id="nb"></h1></tr>
  </td>  

</body>

<script>
  //Esse script ficara separado
    $(document).ready(function(){
      $('#y').bind('click',function(){
        var myClock = new Date();
        var hour = myClock.getHours();
        var min = myClock.getMinutes();
        var now = hour+''+min;
        //Tabela tem que ir para o Json separada
        //var horaCacula = [0425,0445,0505,0525,0545,0605,0625,0640,0705,0725,0745,0805,0845,0910,0925,1000,1025,1100,1120,1140,1200,1220,1240,1300,1320,1340,1400,1420,1440,1500,1520,1540,1600,1620,1645,1705,1725, 1745,1810,1830,1850,1915,1940,2020,2100,2140,2210,2245,2320,2355,0010];
        var horaCacula = [425,445,505,525,545,605,625,640,705,725,745,805,845,910,925,1000,1025,1100,1120,1140,1200,1220,1240,1300,1320,1340,1400,1420,1440,1500,1520,1540,1600,1620,1645,1705,1725, 1745,1810,1830,1850,1915,1940,2020,2100,2140,2210,2245,2320,2355,0010];
        var mostrahora = []; //Segunda lista que é adicionada os horários maiores que a hora local
        
        for (var i =0; i <horaCacula.length;i++ ){ 
          if( now <= horaCacula[i] ){ // Verifica todos os horários da Tabela igual ou maior a hora local
            mostrahora.push(horaCacula[i]) // Adiciona a Segunda lista os horários acima da hora local
          }
        }
        if( mostrahora[0] < 999){//verifica se a hora tem menos que tres digitos pegar no substring
          console.log("pt1")
          var h = mostrahora[0].toString().substring(0,1);
          var m = mostrahora[0].toString().substring(1,4);
          //console.log(m)
          $('#nb').text("Próximo ônibus às "+h+":"+m); // Mostra o primeiro horário da Segunda lista, ou seja o próximo horário
        }else{
          console.log("pt2")
          var h = mostrahora[0].toString().substring(0,2);
          var m = mostrahora[0].toString().substring(2,4);
            $('#nb').text("Próximo ônibus às "+h+":"+m); // Mostra o primeiro horário da Segunda lista, ou seja o próximo horário
        }
        mostrahora.splice(0, Number.MAX_VALUE); //Limpa a segunda lista para não conflitar
      });
    });
</script>
</html>
